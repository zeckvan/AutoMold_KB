# è£½é‹å» æ¨¡å…·å„ªå…ˆæ’æ¨¡æ’ç”¢é‚è¼¯èªªæ˜
 
## 1.å®šç¾©èªªæ˜
 
è‡ªå‹•æ’æ¨¡æ’ç”¢ç³»çµ±ä¾æ“šç”Ÿç”¢æ—¥æœŸèˆ‡ç­åˆ¥ï¼ˆå¦‚æ—¥ç­ã€å¤œç­ï¼‰ï¼Œ**é€æ—¥é€ç­**åŸ·è¡Œæ’æ¨¡ä½œæ¥­ã€‚æ¯ä¸€ç­åˆ¥çš„æ’æ¨¡æ’ç”¢æµç¨‹æœƒå–å¾—ä»¥ä¸‹äº”é¡é—œéµè³‡æ–™ï¼š

- **ç”Ÿç”¢æ’ç­æ—¥è³‡è¨Š(AutoMold_ProductionScheduleDay)**   
- **å‹é«”æ¨¡å…· Size æ¬ æ•¸(AutoMold_ArticleMold)**  
- **å·¥å–®éœ€æ±‚ä¸Šæ¨¡æ•¸(AutoMold_WorkMold)**
- **å‰ç­æ©Ÿå°å­”ä½è³‡è¨Š(AutoMold_Produce)**
- **æ­·å²æ’æ¨¡è³‡è¨Š(Automold_His)**
 
æ’æ¨¡æ’ç”¢é‚è¼¯æœƒä¾æ“šä¸Šè¿°è³‡æ–™é€²è¡Œè™•ç†ï¼Œä¸¦æŒ‰ç…§ä¸‹åˆ— **äº”å€‹åŸ·è¡Œç·’ï¼ˆThreadsï¼‰** é †åºä¾åºåŸ·è¡Œï¼Œæ¯ä¸€é …æ’æ¨¡æ’ç”¢çµæœå°‡æœƒæš«å­˜æ–¼ï¼š
 
> `æ’æ¨¡æ’ç”¢çµæœæš«å­˜è¡¨(AutoMold_Temp)`
  
---
 
## 2. æ’æ¨¡é‚è¼¯åŸ·è¡Œç·’ï¼ˆThreadsï¼‰
 
| Thread ç·¨è™Ÿ | æ’æ¨¡é‚è¼¯æ¢ä»¶èªªæ˜ | ç›®æ¨™å­”ä½ä¾†æº        |
|-------------|------------------|----------------------|
| **Thread 1** | åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½ + æ¨¡å…· Size | å‰ç­æ©Ÿå°å­”ä½è³‡è¨Š |
| **Thread 2** | åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½             | å‰ç­æ©Ÿå°å­”ä½è³‡è¨Š |
| **Thread 3** | å‹é«” + åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½ + æ¨¡å…· Size | æ­·å²æ’æ¨¡è³‡è¨Š |
| **Thread 4** | å‹é«”                              | æ’æ¨¡æ’ç”¢çµæœæš«å­˜è¡¨ |
| **Thread 5** | æ€¥å–®å„ªå…ˆ                          | æ’æ¨¡æ’ç”¢çµæœæš«å­˜è¡¨ |
 
> ğŸ’¡ æ¯å€‹ Thread çš„åŸ·è¡Œçµæœçš†æœƒä¾æ¢ä»¶é€²è¡Œæ¨¡å…·æ’ç”¢ï¼Œä¸¦å³æ™‚è¨˜éŒ„æ–¼æš«å­˜è¡¨ï¼Œç¢ºä¿å®Œæ•´å¯è¿½æº¯æ€§èˆ‡å¾ŒçºŒæŸ¥æ ¸ã€‚
 
---

## 3. æ¸¬è©¦æ¡ˆä¾‹å°æ‡‰è¡¨

| Thread ç·¨è™Ÿ | é‚è¼¯æ¢ä»¶èªªæ˜ | æ¸¬è©¦æ¡ˆä¾‹ |
|-------------|--------------|----------|
| **Thread 1** | åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½ + æ¨¡å…· Size | [æ¡ˆä¾‹1_å‰ç­æ©Ÿå°å®Œå…¨ç›¸ç¬¦](../AutoMold_Test_Cases/æ¡ˆä¾‹1_å‰ç­æ©Ÿå°å®Œå…¨ç›¸ç¬¦.md) <br> [æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾](../AutoMold_Test_Cases/æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾.md) |
| **Thread 2** | åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½ (æœ€æ¥è¿‘ Size) | [æ¡ˆä¾‹2_Sizeä¸ç›¸ç¬¦å–æœ€æ¥è¿‘](../AutoMold_Test_Cases/æ¡ˆä¾‹2_Sizeä¸ç›¸ç¬¦å–æœ€æ¥è¿‘.md) <br> [æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾](../AutoMold_Test_Cases/æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾.md) |
| **Thread 3** | å‹é«” + åº•æ¨¡ä»£è™Ÿ + æ€§åˆ¥ + éƒ¨ä½ + æ¨¡å…· Size | [æ¡ˆä¾‹3_ä½¿ç”¨æ­·å²æ’æ¨¡è³‡è¨Š](../AutoMold_Test_Cases/æ¡ˆä¾‹3_ä½¿ç”¨æ­·å²æ’æ¨¡è³‡è¨Š.md) <br> [æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾](../AutoMold_Test_Cases/æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾.md) |
| **Thread 4** | å‹é«”ï¼ˆç¶œåˆèª¿åº¦ / å‰©é¤˜æˆ°åŠ›æª¢æŸ¥ / æ›æ¨¡è€—æ™‚ï¼‰ | [æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾](../AutoMold_Test_Cases/æ¡ˆä¾‹4_å…±æ¨¡æƒ…å¢ƒåˆ†æ´¾.md) <br> [æ¡ˆä¾‹5_æ›æ¨¡è€—æ™‚å°è‡´è·³éæ©Ÿå°](../AutoMold_Test_Cases/æ¡ˆä¾‹5_æ›æ¨¡è€—æ™‚å°è‡´è·³éæ©Ÿå°.md) |
| **Thread 5** | æ€¥å–®å„ªå…ˆ | [æ¡ˆä¾‹6_æ€¥å–®æ¶ä½”æ’ç¨‹](../AutoMold_Test_Cases/æ¡ˆä¾‹6_æ€¥å–®æ¶ä½”æ’ç¨‹.md) |

---
 
## 4. åŸ·è¡Œé †åºèªªæ˜
 
1. æŒ‰ç”Ÿç”¢ç­åˆ¥é †åºå†ä¾åºåŸ·è¡Œ Thread 1 è‡³ Thread 5 ã€‚
2. æ¯ä¸€ Thread è‹¥æˆåŠŸæ’æ¨¡ï¼Œçµæœå¯«å…¥ `æ’æ¨¡æ’ç”¢çµæœæš«å­˜è¡¨`ã€‚
3. æ‰€æœ‰ Thread å®Œæˆå¾Œï¼Œæ–¹å¯é€²è¡Œä¸‹ä¸€ç­åˆ¥ä¹‹æ’æ¨¡ä½œæ¥­ã€‚
 
---

## 5. èˆ‡ç³»çµ±æç¤º / è¼¸å‡ºå¥‘ç´„çš„å°æ‡‰

### 5.1 SystemPrompt å°æ‡‰
- æœ¬è¦å‰‡ç‚ºæ‰€æœ‰æ’æ¨¡æ±ºç­–çš„å”¯ä¸€ä¾æ“šï¼›ç•¶ AI å›ç­”ç”¢ç”Ÿç–‘æ…®ï¼Œè«‹åƒè€ƒï¼š
  - `AutoMold_Tech_Docs/SystemPrompt.md`
- SystemPrompt çš„è¦æ±‚ï¼š
  1) è¼¸å…¥è³‡æ–™ä¾†æºå„ªå…ˆåºä»¥æœ¬è¦å‰‡çš„ã€Œå®šç¾©èªªæ˜ã€ç‚ºæº–ã€‚  
  2) æ±ºç­–æµç¨‹éœ€éµç…§æœ¬æª”ã€ŒThreads éšæ¢¯åœ–èˆ‡é‚è¼¯ã€ã€‚  
  3) ä¸å¾—è‡†æ¸¬ï¼šæœ¬è¦å‰‡æœªå®šç¾©çš„æƒ…æ³ï¼Œå›è¦†ã€Œè¦å‰‡ä¸­æœªå®šç¾©ã€ã€‚

### 5.2 è¼¸å‡ºå¥‘ç´„ï¼ˆScheduleRow JSON Schemaï¼‰å°æ‡‰
- æ‰€æœ‰æ±ºç­–è¼¸å‡ºï¼Œ**å¿…é ˆ**ç¬¦åˆ `AutoMold_Tech_Docs/ScheduleRow_JSON_Schema.md` (ScheduleRow@v1)ã€‚  
- å¿…å¡«æ¬„ä½ï¼šShiftDate, ShiftName, FacilityId, ResourceId, ProductId, MoldNo, MoldPcsSeq, ShiftWorkQty, AppliedRules, DecisionPath, Confidence  
- `AppliedRules` æ‡‰å°æ‡‰ Thread ç·¨è™Ÿèˆ‡æ¢ä»¶ï¼Œä¾‹å¦‚ï¼š`Thread1.exact-match`  
- `DecisionPath` æ‡‰æ¸…æ¥šåˆ—å‡ºæ±ºç­–æ­¥é©Ÿ

### 5.3 æ¬„ä½å°æ˜ è¡¨ï¼ˆAdapter Mapï¼šScheduleRow â†’ AutoMold_Tempï¼‰
| AutoMold_Temp æ¬„ä½ | ä¾†æº/è¨ˆç®—æ–¹å¼ | ScheduleRow å°æ‡‰ |
|---|---|---|
| ShiftDate | ç›´æ¥å¸¶å…¥ | ShiftDate |
| ShiftName | ç›´æ¥å¸¶å…¥ | ShiftName |
| FacilityId | ç›´æ¥å¸¶å…¥ | FacilityId |
| ResourceId | ç›´æ¥å¸¶å…¥ | ResourceId |
| ArticleMoldid | ç›´æ¥å¸¶å…¥ | MoldNo |
| ArticleMoldsize | é¸å¡« | ProductSize |
| MoldPcsSeq | ç›´æ¥å¸¶å…¥ | MoldPcsSeq |
| ShiftWorkQty | ç›´æ¥å¸¶å…¥ | ShiftWorkQty |
| ThreadName | ç”± AppliedRules/DecisionPath æ‘˜è¦ | AppliedRules |
| MaintainHour | ç”± SQL/æ”¿ç­–è¨ˆç®— | ï¼ˆSchema ç„¡ï¼‰ |
| MoldChange | ç”± MoldChangeMinutes è½‰æ› | MoldChangeMinutes |
| ShiftWork/MoldworkY/MoldworkN | ä¾æ”¿ç­–å…¬å¼è¨ˆç®— | ï¼ˆSchema ç„¡ï¼‰ |

---

## 6. æ¸¬è©¦èˆ‡é©—è­‰æµç¨‹
1. åŒ¯å…¥æ¸¬è©¦æ¡ˆä¾‹ Fixturesï¼ˆCASE-001~005ï¼‰ã€‚  
2. AI ç”¢å‡º ScheduleRow JSON é™£åˆ—ã€‚  
3. Schema é©—è­‰ï¼ˆScheduleRow@v1ï¼‰ã€‚  
4. Adapter å¯«å…¥ AutoMold_Tempã€‚  
5. åŒ¯å‡º actual.csvã€‚  
6. èˆ‡ baseline expected.csv æ¯”å° â†’ ç”¢ç”Ÿå·®ç•°å ±å‘Šã€‚  
7. è¼¸å‡º RunMetricsï¼ˆå®Œæˆå°æ•¸ã€æ›æ¨¡æ¬¡æ•¸ã€ç”¢èƒ½åˆ©ç”¨ç‡â€¦ï¼‰ã€‚

---

## 7. æ–‡ä»¶äº¤å‰å¼•ç”¨
- è¦å‰‡ï¼ˆæœ¬æª”ï¼‰ç‚ºæ±ºç­–ä¾æ“šï¼›æµç¨‹è«‹è¦‹ Threads è¡¨èˆ‡é‚è¼¯ç« ç¯€ã€‚  
- ç³»çµ±æç¤ºï¼š`AutoMold_Tech_Docs/SystemPrompt.md`  
- è¼¸å‡ºå¥‘ç´„ï¼š`AutoMold_Tech_Docs/ScheduleRow_JSON_Schema.md`  
- æ¸¬è©¦èˆ‡é©—è­‰ï¼š`5_Test_Cases/` + `6_Test_Results/`